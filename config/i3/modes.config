# resize window (you can also use the mouse for that)
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym h       resize shrink width  10px
    bindsym j       resize grow   height 10px
    bindsym k       resize shrink height 10px
    bindsym l       resize grow   width  10px
    bindsym Shift+h resize shrink width  40px
    bindsym Shift+j resize grow   height 40px
    bindsym Shift+k resize shrink height 40px
    bindsym Shift+l resize grow   width  40px

    bindsym Mod1+h       resize shrink width  10px; move position center
    bindsym Mod1+j       resize grow   height 10px; move position center
    bindsym Mod1+k       resize shrink height 10px; move position center
    bindsym Mod1+l       resize grow   width  10px; move position center
    bindsym Mod1+Shift+h resize shrink width  40px; move position center
    bindsym Mod1+Shift+j resize grow   height 40px; move position center
    bindsym Mod1+Shift+k resize shrink height 40px; move position center
    bindsym Mod1+Shift+l resize grow   width  40px; move position center

    bindsym Left        resize shrink width  10px
    bindsym Down        resize grow   height 10px
    bindsym Up          resize shrink height 10px
    bindsym Right       resize grow   width  10px
    bindsym Shift+Left  resize shrink width  40px
    bindsym Shift+Down  resize grow   height 40px
    bindsym Shift+Up    resize shrink height 40px
    bindsym Shift+Right resize grow   width  40px

    bindsym Mod1+Left        resize shrink width  10px; move position center
    bindsym Mod1+Down        resize grow   height 10px; move position center
    bindsym Mod1+Up          resize shrink height 10px; move position center
    bindsym Mod1+Right       resize grow   width  10px; move position center
    bindsym Mod1+Shift+Left  resize shrink width  40px; move position center
    bindsym Mod1+Shift+Down  resize grow   height 40px; move position center
    bindsym Mod1+Shift+Up    resize shrink height 40px; move position center
    bindsym Mod1+Shift+Right resize grow   width  40px; move position center

    bindsym c      move position center
    bindsym $mod+c move position center

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
    bindsym q      mode "default"
}

# gaps (minimal)
set $mode_gaps Gaps: +|-|r|0 (local), Shift +|-|r|0 (global)
bindsym $mod+Shift+g mode "$mode_gaps"
mode "$mode_gaps" {
  bindsym plus  gaps horizontal current plus  20
  bindsym minus gaps horizontal current minus 20
  bindsym r     gaps horizontal current set   575; mode "default"
  bindsym 0     gaps horizontal current set   5;   mode "default"

  bindsym Shift+plus  gaps horizontal all plus  20
  bindsym Shift+minus gaps horizontal all minus 20
  bindsym Shift+r     gaps horizontal all set   575; mode "default"
  bindsym Shift+0     gaps horizontal all set   5;   mode "default"

  bindsym Return       mode "default"
  bindsym Escape       mode "default"
  bindsym $mod+Shift+g mode "default"
  bindsym q            mode "default"
}

# powermenu mode
set $powermenu "[e]xit [l]ock [p]oweroff [r]eboot [s]uspend"
set $graceful ~/.config/i3/scripts/graceful
bindsym $mod+Escape mode $powermenu
mode $powermenu {
    bindsym e mode "default"; exec --no-startup-id $graceful exit
    bindsym l mode "default"; exec --no-startup-id loginctl lock-session
    bindsym p mode "default"; exec --no-startup-id $graceful poweroff
    bindsym r mode "default"; exec --no-startup-id $graceful reboot
    bindsym s mode "default"; exec --no-startup-id systemctl suspend

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# redshift mode
set $redshift redshift [0-9]
bindsym $mod+n mode "$redshift"
mode "$redshift" {
  bindsym 0 exec --no-startup-id "redshift -x"
  bindsym 1 exec --no-startup-id "redshift -P -O 6000"
  bindsym 2 exec --no-startup-id "redshift -P -O 5500"
  bindsym 3 exec --no-startup-id "redshift -P -O 4500"
  bindsym 4 exec --no-startup-id "redshift -P -O 4000"
  bindsym 5 exec --no-startup-id "redshift -P -O 3500"
  bindsym 6 exec --no-startup-id "redshift -P -O 3000"
  bindsym 7 exec --no-startup-id "redshift -P -O 2500"
  bindsym 8 exec --no-startup-id "redshift -P -O 2000"
  bindsym 9 exec --no-startup-id "redshift -P -O 1500"
  bindsym Return mode "default"
  bindsym Escape mode "default"
  bindsym $mod+n mode "default"
  bindsym q      mode "default"
}

# passthrough mode
bindsym $mod+p mode "passthrough"
mode "passthrough" {
  bindsym $mod+p mode "default"
}

# vim: ft=i3config et
